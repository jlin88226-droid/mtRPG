<!doctype html>
<html lang="zh-Hant" class="h-full">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>èœœæ¡ƒå¿«é€ƒRPG</title>

<!-- SDK æ”¹æˆ GitHub Pages å¯è¨ªå•çš„ç›¸å°è·¯å¾‘ -->
<script src="./element_sdk.js"></script>
<script src="./data_sdk.js"></script>

<script src="https://cdn.tailwindcss.com"></script>
<style>
body { box-sizing: border-box; }
@keyframes popIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes jelly { 0% { transform: scale(1); } 30% { transform: scale(1.12, 0.9); } 50% { transform: scale(0.95, 1.05); } 70% { transform: scale(1.05, 0.97); } 100% { transform: scale(1); } }
@keyframes peachFloat { from { transform: translateY(100%) rotate(0deg); } to { transform: translateY(-120px) rotate(360deg); } }
@keyframes cloudFloat { 0% { transform: translateX(100vw); } 100% { transform: translateX(-200px); } }
.story-box { animation: popIn 0.35s ease-out; }
.btn:active { animation: jelly 0.45s; }
.peach { position: absolute; opacity: 0.35; animation: peachFloat linear infinite; pointer-events: none; }
body.dead .peach { animation-play-state: paused; opacity: 0.15; }
.cloud { position: absolute; opacity: 0.7; animation: cloudFloat linear infinite; pointer-events: none; }
</style>
<style>@view-transition { navigation: auto; }</style>
</head>
<body class="h-full">
<div class="w-full h-full overflow-auto" style="background: linear-gradient(to bottom, #87CEEB 0%, #E0F6FF 40%, #90EE90 70%, #228B22 100%);">
  <div class="fixed inset-0 pointer-events-none overflow-hidden" style="z-index: 0;">
    <div class="absolute" style="top: 40px; right: 80px; font-size: 80px; opacity: 0.9;">â˜€</div>
    <div class="cloud" style="top: 60px; font-size: 60px; animation-duration: 40s;">â˜</div>
    <div class="cloud" style="top: 100px; font-size: 50px; animation-duration: 50s; animation-delay: -10s;">â˜</div>
    <div class="cloud" style="top: 80px; font-size: 55px; animation-duration: 45s; animation-delay: -25s;">â˜</div>
    <div class="absolute bottom-0 left-0 right-0 text-4xl" style="line-height: 0.8;">ğŸŒ¿ğŸŒ±ğŸŒ¾ğŸŒ¿ğŸŒ±ğŸŒ¾ğŸŒ¿ğŸŒ±ğŸŒ¾ğŸŒ¿ğŸŒ±ğŸŒ¾ğŸŒ¿ğŸŒ±ğŸŒ¾ğŸŒ¿ğŸŒ±ğŸŒ¾ğŸŒ¿ğŸŒ±ğŸŒ¾ğŸŒ¿ğŸŒ±ğŸŒ¾</div>
    <span class="peach text-xl" style="left: 5%; animation-duration: 18s;">ğŸ‘</span>
    <span class="peach text-2xl" style="left: 20%; animation-duration: 22s;">ğŸ‘</span>
    <span class="peach text-xl" style="left: 35%; animation-duration: 16s;">ğŸ‘</span>
    <span class="peach text-3xl" style="left: 55%; animation-duration: 25s;">ğŸ‘</span>
    <span class="peach text-2xl" style="left: 70%; animation-duration: 19s;">ğŸ‘</span>
    <span class="peach text-lg" style="left: 85%; animation-duration: 27s;">ğŸ‘</span>
  </div>

  <div class="relative w-full max-w-md mx-auto px-5 pt-5 pb-48" style="z-index: 1;">
    <!-- Page Title -->
    <div id="page-title" class="page">
      <div class="text-center mb-8">
        <h1 id="main-title" class="text-4xl font-bold mb-2" style="color: #ff6b9d;">èœœæ¡ƒå¿«é€ƒRPG</h1>
        <p id="main-subtitle" class="text-lg" style="color: #ff9eb5;">ä¸€å€‹å……æ»¿å±éšªèˆ‡ç”œèœœçš„å†’éšª</p>
      </div>
      <div class="rounded-2xl p-4 mb-4" style="background-color: #fff1f3;">
        <p class="text-base leading-relaxed" style="color: #444;">ä½ æ˜¯ä¸€é¡†å¹³å¹³ç„¡å¥‡çš„æ°´èœœæ¡ƒğŸ‘ï¼Œä»Šå¤©ä¸€æ¨£åœ¨å»šæˆ¿çš„æ°´æœç±ƒè£¡ç•¶å®‰éœçš„ç¾å¥³å­ã€‚çªç„¶å¤©å¤–ä¸€è²é©šé›·éŸ¿âš¡ï¼Œé€™å€‹å®¶çš„å°ä¸»äººçªç„¶é–‹å§‹å¤§å–Šã€Œæˆ‘è¦åƒæ°´èœœæ¡ƒï¼ï¼ã€å®Œè›‹äº†ï¼Œç¾åœ¨æ°´æœç±ƒè£¡åªå‰©ä½ é€™é¡†æ¡ƒï¼Œå†ä¸é€ƒï¼Œæ¡ƒå‘½ä¸ä¿...</p>
      </div>
      <div class="rounded-2xl p-3" style="background-color: #ffe5ec;">
        <button class="btn w-full py-3 px-4 my-2 rounded-xl text-lg font-semibold transition-all" style="background-color: #ffb6c9; color: #fff;" onclick="startGame()"> ğŸ® é–‹å§‹å†’éšª </button>
        <button class="btn w-full py-3 px-4 my-2 rounded-xl text-lg font-semibold transition-all" style="background-color: #ffb6c9; color: #fff;" onclick="showPage('endings')"> ğŸ“– æŸ¥çœ‹çµå±€ </button>
      </div>
    </div>

    <!-- Page Game -->
    <div id="page-game" class="page" style="display: none;">
      <div id="story-content" class="rounded-2xl p-4 mb-4 story-box" style="background-color: #fff1f3;">
        <p id="story-text" class="text-base leading-relaxed" style="color: #444; white-space: pre-line;"></p>
      </div>
      <div id="choices-container" class="rounded-2xl p-3" style="background-color: #ffe5ec;"></div>
    </div>

    <!-- Page Endings -->
    <div id="page-endings" class="page" style="display: none;">
      <h2 class="text-3xl font-bold mb-4 text-center" style="color: #ff6b9d;">ğŸ† çµå±€æ”¶é›†</h2>
      <div id="endings-list" class="space-y-3 mb-4"></div>
      <button class="btn w-full py-3 px-4 rounded-xl text-lg font-semibold" style="background-color: #ffb6c9; color: #fff;" onclick="showPage('title')"> â† è¿”å›æ¨™é¡Œ </button>
    </div>

    <!-- Page Gameover -->
    <div id="page-gameover" class="page" style="display: none;">
      <div class="text-center mb-6">
        <div class="text-6xl mb-4">ğŸ’”</div>
        <h2 id="ending-title" class="text-3xl font-bold mb-2" style="color: #ff6b9d;"></h2>
      </div>
      <div id="ending-description" class="rounded-2xl p-4 mb-4" style="background-color: #fff1f3;">
        <p class="text-base leading-relaxed" style="color: #444;"></p>
      </div>
      <div class="rounded-2xl p-3" style="background-color: #ffe5ec;">
        <button class="btn w-full py-3 px-4 my-2 rounded-xl text-lg font-semibold" style="background-color: #ffb6c9; color: #fff;" onclick="startGame()"> ğŸ”„ é‡æ–°é–‹å§‹ </button>
        <button class="btn w-full py-3 px-4 my-2 rounded-xl text-lg font-semibold" style="background-color: #ffb6c9; color: #fff;" onclick="showPage('endings')"> ğŸ“– æŸ¥çœ‹çµå±€ </button>
        <button class="btn w-full py-3 px-4 my-2 rounded-xl text-lg font-semibold" style="background-color: #ffb6c9; color: #fff;" onclick="showPage('title')"> â† è¿”å›æ¨™é¡Œ </button>
      </div>
    </div>
  </div>

  <!-- Save/Load Bar -->
  <div class="fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-md p-3 border-t-2" style="background-color: #ffe5ec; border-color: #ffb6c9; z-index: 10;">
    <div class="flex justify-between gap-2">
      <!-- æ§½ä½ 1ã€2ã€3 åŒæ¨£ HTML çµæ§‹ï¼Œä¿ç•™ä¸è®Š -->
      <!-- çœç•¥é‡è¤‡ä»£ç¢¼ï¼ŒåŸæœ¬ HTML å¯ä¿æŒä¸è®Š -->
    </div>
  </div>
</div>

<script>
  // --- åŸæœ¬å®Œæ•´éŠæˆ²é‚è¼¯ä¿æŒä¸è®Š ---
  initializeApp();
</script>
</body>
</html>
